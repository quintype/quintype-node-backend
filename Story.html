<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>JSDoc: Story</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
    <link type="text/css" rel="stylesheet" href="styles/app.min.css">
</head>

<body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
        <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="navbar-brand">
                    
                     
                        <h1 class="navbar-item">Quintype Backend</h1>
                    
                    <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                 
                <div class="navbar-menu">
                    <div class="navbar-end">
                    
                        <div class="navbar-item">
                            <a href="https://github.com/quintype/quintype-node-backend" target="_blank">Github</a>
                        </div>
                    
                    </div>
                </div>
                
            </nav>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column is-3" id="sidebarNav">
                <div class="sidebar">
                    <nav>
                        <h2><a href="index.html">Home</a></h2><div class="category"><h3>Externals</h3><ul><li><a href="external-Response.html">Response</a></li></ul><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="Config.html">Config</a></li><li><a href="CustomPath.html">CustomPath</a></li><li><a href="Story.html">Story</a></li><li><a href="Url.html">Url</a></li></ul><h3>Global</h3><ul><li><a href="global.html#buildClient">buildClient</a></li></ul></div>
                    </nav>
                </div>
            </div>
            <div class="column is-9-desktop">
                <div class="content" id="main-content-wrapper">
                    <header class="page-title">
                        <p>Class</p>
                        <h1>Story</h1>
                    </header>
                    
                    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Story</h2>
        
            <div class="class-description"><p>This corresponds to a story in Quintype. Most forms of content are modelled under this class.
Depending on which API the data is recieved from, the exact fields which are present on the story
object may change. Please see the <a href="https://developers.quintype.com/swagger#/story/get_api_v1_stories_by_slug">API reference</a>
for the full list of fields available.</p>
<p>See <a href="Story.html#.getStoryBySlug">Story.getStoryBySlug</a> for a simple example.</p>
<pre class="prettyprint source lang-javascript"><code>import { Story } from &quot;@quintype/framework/server/api-client&quot;;
</code></pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line31">line 31</a>
            </span>
        </p>
    
</dl>






















        
    
    </div>

    

    

    

    

    

    

    

    
        <div class='vertical-section'>
            <h3 class="title"><span>Methods</span></h3>
            <div class="members">
            
                <div class="member">

    
    <h4 class="name" id=".getInBulk">
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            getInBulk<span class="signature">(client, requests)</span><span class="type-signature"></span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This low level function can be used to make multiple API calls simultaneously to the backend. This is typically not meant to be
used by developers directly, please consider using <a href="Collection.html">Collection</a> and related functions instead</p>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>requests</code></td>
  

  <td class="type">
  
      
<span class="param-type">Object</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line178">line 178</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">

    
    <h4 class="name" id=".getPublicPreviewStory">
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            getPublicPreviewStory<span class="signature">(client, publicPreviewKey)</span><span class="type-signature"> &rarr; {Promise.&lt;(<a href="Story.html">Story</a>|null)>}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This function can be used to fetch a draft story, given the <code>secretKey</code> generated by the editor.
This function works very similar to <a href="Story.html#.getStoryBySlug">Story.getStoryBySlug</a>, except the fact that it accepts a secretKey.
This is the only API which will give you the latest draft / un published version of a story.</p>
<p>See the <a href="">public preview tutorial</a> (FIXME: Broken Link) for an a tutorial on implementation</p>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>publicPreviewKey</code></td>
  

  <td class="type">
  
      
<span class="param-type">string</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line127">line 127</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Promise.&lt;(<a href="Story.html">Story</a>|null)></span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">

    
    <h4 class="name" id=".getSearch">
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            getSearch<span class="signature">(client, params)</span><span class="type-signature"> &rarr; {Object}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This function can be used to search for stories by the given string. The returned object has a <code>stories</code> property which is an array of Stories,
but also contains other fields like <code>from</code>, and <code>total</code>.</p>
<p>Example</p>
<pre class="prettyprint source lang-javascript"><code>const {stories, total} = Story.getSearch(client, {q: &quot;Some String&quot;});
console.log(`Total Number of Results: ${total}`);
JSON.stringify(stories.map(story => story.asJson()));
</code></pre>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>params</code></td>
  

  <td class="type">
  
      
<span class="param-type">Object</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>

  
  
    
<tr class="deep-level-1">
  
      <td class="name"><code>q</code></td>
  

  <td class="type">
  
      
<span class="param-type">string</span>


  
  </td>

  

  

  <td class="description last"><p>The search string</p></td>
</tr>

  


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line163">line 163</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>Please see <a href="">API documentation</a> (FIXME: Broken Link) for more details. The returned object</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Object</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">

    
    <h4 class="name" id=".getStories">
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            getStories<span class="signature">(client, storyGroup, params)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="Story.html">Story</a>>}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This function can be used to fetch stories from the old sorters API.</p>
<p>Example</p>
<pre class="prettyprint source lang-javascript"><code>const stories = await Story.getStories(client, 'top', {'section-id': 42});
console.log(stories[0].headline)
console.log(JSON.stringify(stories.map(s => s.asJson())))
</code></pre>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>storyGroup</code></td>
  

  <td class="type">
  
      
<span class="param-type">string</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>params</code></td>
  

  <td class="type">
  
      
<span class="param-type">Object</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>Please use <a href="Collection.html">Collection</a> and related functions instead</li></ul></dd>
    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line56">line 56</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Array.&lt;<a href="Story.html">Story</a>></span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">

    
    <h4 class="name" id=".getStoryById">
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            getStoryById<span class="signature">(client, id)</span><span class="type-signature"> &rarr; {Promise.&lt;(<a href="Story.html">Story</a>|null)>}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This function can be used to fetch a story, given the id.</p>
<p>This function works very similar to <a href="Story.html#.getStoryBySlug">Story.getStoryBySlug</a>, except the fact that it accepts a id</p>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>id</code></td>
  

  <td class="type">
  
      
<span class="param-type">string</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line141">line 141</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Promise.&lt;(<a href="Story.html">Story</a>|null)></span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">

    
    <h4 class="name" id=".getStoryBySlug">
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            getStoryBySlug<span class="signature">(client, slug, params)</span><span class="type-signature"> &rarr; {Promise.&lt;(<a href="Story.html">Story</a>|null)>}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This function can be used to fetch a story given a slug. This is typically done on story pages.</p>
<p>This returned promise will resolve to null if the story is not found</p>
<p>Example</p>
<pre class="prettyprint source lang-javascript"><code>const story = await Story.getStoryBySlug(client, slug);
if(!story) {
  render404();
} else {
  renderTheStoryPage(story);
}
</code></pre>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>slug</code></td>
  

  <td class="type">
  
      
<span class="param-type">string</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    

        
<tr class="deep-level-0">
  
      <td class="name"><code>params</code></td>
  

  <td class="type">
  
      
<span class="param-type">Object</span>


  
  </td>

  

  

  <td class="description last"><p>Parameters that are passed directly as query paremeters to the API</p></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line111">line 111</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Promise.&lt;(<a href="Story.html">Story</a>|null)></span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">

    
    <h4 class="name" id="asJson">
        
        <span class="code-name">
            asJson<span class="signature">()</span><span class="type-signature"></span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Use this to convert to a simple javascript object, suitable for JSON.</p>
    </div>
    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line37">line 37</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">

    
    <h4 class="name" id="getRelatedStories">
        
        <span class="code-name">
            getRelatedStories<span class="signature">(client)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="Story.html">Story</a>>}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This method can be used to fetch stories related to a given story</p>
<p>Example</p>
<pre class="prettyprint source lang-javascript"><code>const story = await Story.getStoryBySlug(client, &quot;some-slug&quot;);
const relatedStories = await story.getRelatedStories(client);
</code></pre>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line73">line 73</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Array.&lt;<a href="Story.html">Story</a>></span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">

    
    <h4 class="name" id="getStoryAttributes">
        
        <span class="code-name">
            getStoryAttributes<span class="signature">(client)</span><span class="type-signature"> &rarr; {Object}</span>
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>This method can be used to get various metadata for the given story. Apart from story related attributes,
this API will also return all collections this story is a part of, along with collection metadata.</p>
    </div>
    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        
<tr class="deep-level-0">
  
      <td class="name"><code>client</code></td>
  

  <td class="type">
  
      
<span class="param-type"><a href="Client.html">Client</a></span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


    
    </tbody>
</table>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="index.js.html" class="button">View Source</a>
            <span>
                <a href="index.js.html">index.js</a>, <a href="index.js.html#line87">line 87</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>Please see <a href="">API documentation</a> (FIXME: Broken Link) for more details</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">Object</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
            </div>
        </div>
    

    

    
</article>

</section>




                </div>
            </div>
        </div>
    </div>

<footer class="footer">
    <div class="content has-text-centered">
        <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a></p>
        <p class="sidebar-created-by">
            <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
            <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
    </div>
</footer>

<script src="scripts/app.min.js"></script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>